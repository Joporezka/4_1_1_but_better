Надо моделировать работу системы, которая реализует решение задачи провода корабля по фарватеру. Система состоит из следующих элементов:
• акватория;
• корабль;
• локатор глубины;
• пульт управления со штурвалом.
Акватория имеет прямоугольную форму и разбита на квадраты. Для каждого квадрата задано значение его глубины. Этому разбиению по квадратам можно сопоставить матрицу (n x m). Где, n – количество строк, а m – количество столбцов.  Значения n и m больше 10. Нумерация строк и столбцов начинается с 1.  Первоначально корабль плывет вдоль первой строки квадратов и определяет глубину дна. Известно, что у фарватера есть только один вход. Корабль в рамках одного квадрата может развернуться влево или вправо, не более 90 градусов. Корабль по курсу движения может передвигаться в левую, в левую по диагонали, следующую, в правую по диагонали или в правую клетку. Локатор способен по курсу движения определить величину глубины в вышеперечисленных клетках. Для корабля дана минимально необходимая глубина. Основное направление курса движения от первой строки к строке n. Корабль на обратный курс не должен развернутся. Другими словами, не должен переместиться по ходу движения от клетки под номером строки i к строке под номером i-1. Всегда выбирается квадрат относительно квадрата расположения корабля, согласно его курсу движения, по максимуму глубины среди возможных квадратов, куда он может переместится.
Система ищет фарватер и проводит корабль по него. Фарватер считается пройденным, если корабль достиг клетку с номером строки n. Надо отметить, что такой фарватер всегда существует.

Акватория моделируется посредством прямоугольной целочисленной матрицы. Элемент матрицы соответствует квадрату, а его значение глубине квадрата. У корабля есть характеристика курса движения, координаты расположения и минимальная допустимая глубина.
Время функционирования системы разбита на интервалы и это моделируется посредством тактов. В рамках каждого такта элементы системы выполняют предопределенные действия. Инициирование действий моделируется посредством запросов (сигналов).

Элементы системы моделируются посредством следующих объектов:
1. Объект «система». Обеспечивает отработку тактов.
2. Объект для чтения данных и команд. Объект считывает данные для подготовки и настройки системы. После чтения очередной порции данных для настройки или данных команды, объект выдает сигнал с текстом полученных данных. Все данные настройки и данные команд синтаксический корректны. Каждая строка данных или команд соответствует одному такту.
3. Объект пульта управления. Моделирует работу лоцмана, капитана и штурвала. Отрабатывает поступающие данные и команды. Объект вырабатывает решение и выдает соответствующий сигнал или сигналы. Выдает команду локатору для определения глубин в квадратах по курсу движения, выбирает допустимое направление движения, устанавливает штурвал и дает команду на движение корабля. Готовит данные исходя из состояния системы. Действия выполняется в рамках одного такта.
4. Объект, моделирующий акваторию. Содержит информацию относительно размеров акватория. Количества строк и столбцов квадратов. Относительно каждого квадрата значение его глубины. По запросу от локатора, посредством сигнала возвращает величину глубины, указанной в тексте запроса квадрата или нескольких квадратов.
5. Объект, моделирующий корабль. Содержит информацию о курсе движения и координате расположения. Координата соответствует номеру строки и столбца. Выполняет перемещение корабля по квадратам согласно направлению. Корабль может переместится в одно из соседних квадратов.  За одни такт корабль может развернуться в рамках одного квадрата не более чем на 90 градусов. Принимает сигнал (команду) от пульта управления.
6. Объект, моделирующий локатор. Получает команду от пульта управления. Опрашивает квадраты акватории исходя из расположения и курса корабля. По сигналу возвращает полученные данные относительно глубин допустимых для перемещения квадратов.
7. Объект для вывода состояния или результата команды системы на консоль. Текст для вывода объект получает по сигналу от других объектов системы. Каждое присланное сообщение выводиться с новой строки.


Написать программу, реализующую следующий алгоритм:
1. Вызов метода объекта «система» build_tree_objects ( ).
1.1. Построение дерева иерархии объектов. Характеристики объектов вводятся.
1.1.1. Установка связей (сигнал-обработчик) и приведение части объектов в состоянии готовности, для обеспечения ввода данных и настройки системы.
1.1.2. Выдача сигнала объекту чтения для ввода данных.
1.1.3. Отработка операции загрузки данных.
1.2. Установка связей сигналов и обработчиков между объектами.
2. Вызов метода объекта «система» exec_app ( ).
2.1. Приведение всех объектов в состояние готовности.
2.2. Цикл для обработки такта функционирования системы.
2.2.1. Выдача необходимых сигналов.
2.2.2. Отработка взаимодействия объектов и необходимых алгоритмов.
2.3. После прохода корабля по фарватеру завершить работу.

Исходное расположение корабля координата (1,1) и курс направлен вдоль первой строки.
Все приведенные сигналы и соответствующие обработчики должны быть реализованы. Запрос от объекта означает выдачу сигнала. Все сообщения на консоль выводятся с новой строки.
В набор поддерживаемых команд добавить команду «SHOWTREE» и по этой команде вывести дерево иерархии объектов системы с отметкой о готовности и завершить работу системы (программы).

При решении задачи необходимо руководствоваться методическим пособием и приложением к методическому пособию

Входные данные
Ввод информации об акватории.
количество строк количество столбцов минимальная глубина
Со второй строки ввод информации о глубинах квадратов построчно по количеству столбцов штук
значение глубины . . . . .
. . . . .


Пример ввода
20 20 15
30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30
10 10 11 12 20 13 10 10 10 25 10 10 10 10 10 10 10 10 10 10
10 10 10 10 35 10 10 10 27 10 10 10 10 10 10 10 10 10 10 10
10 10 10 36 10 10 10 10 30 31 10 10 10 10 10 10 10 10 10 10
10 10 10 10 10 10 10 10 10 10 32 10 10 10 10 10 10 10 10 10
10 10 10 10 10 10 10 10 25 21 10 10 10 10 10 10 10 10 10 10
10 10 10 10 10 10 10 10 27 17 21 10 10 10 10 10 10 10 10 10
10 10 10 10 10 10 10 10 10 33 10 36 37 10 10 10 10 10 10 10
10 10 10 10 10 10 10 10 32 33 34 33 10 10 10 10 10 10 10 10
10 10 10 10 10 10 10 10 10 10 10 10 35 10 10 10 10 10 10 10
10 10 10 10 10 10 10 10 10 10 10 10 10 36 10 10 10 10 10 10
10 10 10 10 10 10 10 10 10 10 10 10 10 10 37 10 10 10 10 10
10 10 10 10 10 10 10 10 10 10 10 10 10 10 38 10 10 10 10 10
10 10 10 10 10 10 10 10 10 10 10 10 10 10 40 10 10 10 10 10
10 10 10 10 10 10 10 10 10 10 10 10 10 10 41 10 10 10 10 10
10 10 10 10 10 10 10 10 10 10 10 10 10 10 43 10 10 10 10 10
10 10 10 10 10 10 10 10 10 10 10 10 10 10 44 10 10 10 10 10
10 10 10 10 10 10 10 10 10 10 10 10 10 10 45 10 10 10 10 10
10 10 10 10 10 10 10 10 10 10 10 10 10 10 46 10 10 10 10 10
10 10 10 10 10 10 10 10 10 10 10 10 10 10 47 10 10 10 10 10

Выходные данные
После завершения построения дерева иерархии объектов и загрузки исходных данных отображается:
Ready to work
Вывод найденного фарватера. Шаблон вывода информации о найденном фарватере:
Fairway координата 1 координата 2 . . . .
Координаты выводятся по шаблону
 (номер строки, номер столбца)
Сообщение завершения работы системы:
Turn off the ATM


Пример вывода
Ready to work
Fairway (1, 10) (2, 10) (3, 9) (4, 10) (5, 11) (6, 10) (7, 9) (8, 10) (9, 11) (9, 12) (10, 13) (11, 14) (12, 15) (13, 15) (14, 15) (15, 15) (16, 15) (17, 15) (18, 15) (19, 15) (20, 15)
Turn off the ATM